<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="myStatus">
	<resultMap type="status" id="statusMap">
		<result column="host_no" property="hostNo" />
		<result column="host_email" property="hostEmail" />
		<result column="guest_email" property="guestEmail" />
		<result column="start_date" property="startDate" />
		<result column="end_date" property="endDate" />
		<result column="hosting_status" property="hostingStatus" />
	</resultMap>

	<insert id="insert" parameterType="status">
		insert into t86_1_hosting_status values(
		#{hostNo}, #{hostEmail}, null, null, null, 'W'
		)
	</insert>

	<update id="hostingRequest" parameterType="status">
		update t86_1_hosting_status set guest_email = #{guestEmail}, start_date = #{startDate}, end_date = #{endDate} , hosting_status = #{hostingStatus} where host_no = #{hostNo}
	</update>

	<update id="accept" parameterType="status">
		update t86_1_hosting_status set hosting_status = 'C' where host_no = #{hostNo}
	</update>

	<update id="reject" parameterType="status">
		update t86_1_hosting_status set guest_email = null, start_date = null, end_date = null, hosting_status = 'W' where host_no = #{hostNo}
	</update>

	<select id="selectOne" parameterType="int" resultMap="statusMap">
		select * from t86_1_hosting_status where host_no = #{hostNo}
	</select>

	<select id="selectHostAll" parameterType="string" resultMap="statusMap">
		select * from t86_1_hosting_status where host_email = #{hostEmail}
	</select>

	<select id="selectGuestAll" parameterType="string" resultMap="statusMap">
		select * from t86_1_hosting_status where guest_email = #{guestEmail}
	</select>

	<delete id="delete" parameterType="int">
		delete t86_1_hosting_status where host_no = #{hostNo}
	</delete>
</mapper>